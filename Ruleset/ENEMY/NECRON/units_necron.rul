extended:
  tagsFile: Ruleset/tags_ROSIGMA.rul

weaponSets:  # these can be re-used for any unit
  # Necron Warrior
  - type: BASIC_GAUSS_FLAYER
    weapons: [STR_GAUSS_FLAYER, STR_KILLPOINT_TOKEN_5]
  - type: BASIC_GAUSS_REAPER
    weapons: [STR_GAUSS_REAPER, STR_KILLPOINT_TOKEN_5]
  - type: GAUSS_FLAYER_WITH_SCARAB
    weapons: [STR_GAUSS_FLAYER, STR_NECRON_SCARAB_SPAWNER_GRENADE, STR_KILLPOINT_TOKEN_5]
  - type: GAUSS_REAPER_WITH_SCARAB
    weapons: [STR_GAUSS_REAPER, STR_NECRON_SCARAB_SPAWNER_GRENADE, STR_KILLPOINT_TOKEN_5]
  # Necron Immortal
  - type: BASIC_GAUSS_BLASTER
    weapons: [STR_GAUSS_BLASTER, STR_KILLPOINT_TOKEN_7]
  - type: GAUSS_BLASTER_WITH_SCARAB
    weapons: [STR_GAUSS_BLASTER, STR_NECRON_SCARAB_SPAWNER_GRENADE, STR_KILLPOINT_TOKEN_7]
  # Necron Deathmark
  - type: BASIC_SYNAPTIC_DISINTEGRATOR
    weapons: [STR_SYNAPTIC_DISINTEGRATOR, STR_KILLPOINT_TOKEN_7]
  - type: SYNAPTIC_DISINTEGRATOR_WITH_SCARAB
    weapons: [STR_SYNAPTIC_DISINTEGRATOR, STR_NECRON_SCARAB_SPAWNER_GRENADE, STR_KILLPOINT_TOKEN_7]
  # Necron Lychguard
  - type: LYCHGUARD_SWORD_AND_SHIELD_FIXED
    weapons: [STR_HYPERPHASESWORD_FIXED, AUX_DISPERSIONSHIELD, STR_KILLPOINT_TOKEN_5]
  - type: LYCHGUARD_WARSCYTHE_FIXED
    weapons: [STR_NECRON_WARSCYTHE_FIXED, STR_NECRON_WARSCYTHE_MELEE_ONLY, STR_KILLPOINT_TOKEN_5]
  - type: LYCHGUARD_SWORD_AND_SHIELD
    weapons: [STR_HYPERPHASESWORD, AUX_DISPERSIONSHIELD, STR_KILLPOINT_TOKEN_15]
  - type: LYCHGUARD_WARSCYTHE
    weapons: [STR_NECRON_WARSCYTHE, STR_NECRON_WARSCYTHE_MELEE_ONLY, STR_KILLPOINT_TOKEN_15]
  # Necron Portal
  - type: NECRON_PORTAL_WARRIOR_REINFORCEMENTS
    weapons: [STR_NECRON_PORTAL_WARRIOR_SPAWNER, STR_NECRON_PORTAL_WARRIOR_SPAWNER, STR_NECRON_PORTAL_WARRIOR_SPAWNER]
  - type: NECRON_PORTAL_SCARAB_REINFORCEMENTS
    weapons: [STR_NECRON_PORTAL_SCARAB_SPAWNER, STR_NECRON_PORTAL_SCARAB_SPAWNER, STR_NECRON_PORTAL_SCARAB_SPAWNER]
  - type: NECRON_PORTAL_IMMORTAL_REINFORCEMENTS
    weapons: [STR_NECRON_PORTAL_IMMORTAL_SPAWNER, STR_NECRON_PORTAL_IMMORTAL_SPAWNER, STR_NECRON_PORTAL_IMMORTAL_SPAWNER]
  - type: NECRON_PORTAL_DEATHMARK_REINFORCEMENTS
    weapons: [STR_NECRON_PORTAL_DEATHMARK_SPAWNER, STR_NECRON_PORTAL_DEATHMARK_SPAWNER, STR_NECRON_PORTAL_DEATHMARK_SPAWNER]
  - type: NECRON_PORTAL_FLAYED_ONE_REINFORCEMENTS
    weapons: [STR_NECRON_PORTAL_FLAYED_ONE_SPAWNER, STR_NECRON_PORTAL_FLAYED_ONE_SPAWNER, STR_NECRON_PORTAL_FLAYED_ONE_SPAWNER]
  - type: NECRON_PORTAL_LYCHGUARD_REINFORCEMENTS
    weapons: [STR_NECRON_PORTAL_LYCHGUARD_SPAWNER, STR_NECRON_PORTAL_LYCHGUARD_SPAWNER, STR_NECRON_PORTAL_LYCHGUARD_SPAWNER]
  - type: NECRON_PORTAL_MIXED_REINFORCEMENTS_LOW
    weapons: [STR_NECRON_PORTAL_WARRIOR_SPAWNER, STR_NECRON_PORTAL_SCARAB_SPAWNER, STR_NECRON_PORTAL_FLAYED_ONE_SPAWNER]
  - type: NECRON_PORTAL_MIXED_REINFORCEMENTS_MID
    weapons: [STR_NECRON_PORTAL_IMMORTAL_SPAWNER, STR_NECRON_PORTAL_FLAYED_ONE_SPAWNER, STR_NECRON_PORTAL_DEATHMARK_SPAWNER]
  - type: NECRON_PORTAL_MIXED_REINFORCEMENTS_HIGH
    weapons: [STR_NECRON_PORTAL_DEATHMARK_SPAWNER, STR_NECRON_PORTAL_LYCHGUARD_SPAWNER, STR_NECRON_PORTAL_IMMORTAL_SPAWNER]


units:
  - type: STR_NECRON_WARRIOR
    stats:
      tu: 75
      stamina: 96
      health: 60  # was 100, easier to use overKill this way
      bravery: 110
      reactions: 65  # warriors have slower reactions than Immortals
      firing: 75
      throwing: 80
      strength: 60
      psiStrength: 200
      psiSkill: 0
      melee: 75
    intelligence: 1  # Giving them 1; I'm assuming they have some direction, rather than being left to their own devices entirely
    aggression: 8
    spotter: 1
    sniper: 50
    value: 10
    energyRecovery: 200
    builtInWeaponSets: []
    weightedBuiltInWeaponSets:
      -  # Tier 1
        BASIC_GAUSS_FLAYER: 50
        BASIC_GAUSS_REAPER: 50
        GAUSS_FLAYER_WITH_SCARAB: 5
        GAUSS_REAPER_WITH_SCARAB: 5
      -  # Tier 2
        BASIC_GAUSS_FLAYER: 40
        BASIC_GAUSS_REAPER: 40
        GAUSS_FLAYER_WITH_SCARAB: 10
        GAUSS_REAPER_WITH_SCARAB: 10
      -  # Tier 3
        BASIC_GAUSS_FLAYER: 30
        BASIC_GAUSS_REAPER: 30
        GAUSS_FLAYER_WITH_SCARAB: 20
        GAUSS_REAPER_WITH_SCARAB: 20

  - type: STR_NECRON_WARRIOR_REVIVES  # STR_NECRON_WARRIOR_ARMOR                        RANK 5 weapons done
    race: STR_NECRON
    rank: STR_LIVE_SOLDIER
    stats:
      tu: 75
      stamina: 96
      health: 60
      bravery: 110
      reactions: 65  # warriors have slower reactions than Immortals
      firing: 75
      throwing: 80
      strength: 60
      psiStrength: 200
      psiSkill: 0
      melee: 75
    armor: STR_NECRON_WARRIOR_ARMOR_REVIVES
    standHeight: 20
    kneelHeight: 15
    value: 5
    deathSound: [{mod: 40k, index: 289}, {mod: 40k, index: 290}, {mod: 40k, index: 291}]
    spawnUnit: STR_NECRON_WARRIOR
    canPanic: false
    canBeMindControlled: false
    intelligence: 1  # Giving them 1; I'm assuming they have some direction, rather than being left to their own devices entirely
    aggression: 8
    spotter: 1
    sniper: 50
    energyRecovery: 200
    builtInWeaponSets: []
    weightedBuiltInWeaponSets:
      -  # Tier 1
        BASIC_GAUSS_FLAYER: 40
        BASIC_GAUSS_REAPER: 40
        GAUSS_FLAYER_WITH_SCARAB: 10
        GAUSS_REAPER_WITH_SCARAB: 10
      -  # Tier 2
        BASIC_GAUSS_FLAYER: 20
        BASIC_GAUSS_REAPER: 20
        GAUSS_FLAYER_WITH_SCARAB: 30
        GAUSS_REAPER_WITH_SCARAB: 30
      -  # Tier 3
        BASIC_GAUSS_FLAYER: 10
        BASIC_GAUSS_REAPER: 10
        GAUSS_FLAYER_WITH_SCARAB: 40
        GAUSS_REAPER_WITH_SCARAB: 40

  - type: STR_NECRON_IMORTAL
    stats:
      tu: 75
      stamina: 96
      health: 80
      bravery: 110
      reactions: 85
      firing: 90
      throwing: 85
      strength: 60
      psiStrength: 200
      psiSkill: 0
      melee: 85
    intelligence: 2  # Necron immortals have some level of intelligence
    aggression: 8
    spotter: 1
    sniper: 75
    value: 15
    energyRecovery: 200
    builtInWeaponSets: []
    weightedBuiltInWeaponSets:
      -  # Tier 1
        BASIC_GAUSS_BLASTER: 90
        GAUSS_BLASTER_WITH_SCARAB: 10
      -  # Tier 2
        BASIC_GAUSS_BLASTER: 50
        GAUSS_BLASTER_WITH_SCARAB: 50
      -  # Tier 3
        BASIC_GAUSS_BLASTER: 5
        GAUSS_BLASTER_WITH_SCARAB: 95


  - type: STR_NECRON_IMORTAL_REVIVES  # STR_NECRON_WARRIOR_ARMOR                        RANK 5 weapons done
    race: STR_NECRON
    rank: STR_LIVE_SOLDIER
    stats:
      tu: 75
      stamina: 96
      health: 80
      bravery: 110
      reactions: 85
      firing: 90
      throwing: 85
      strength: 60
      psiStrength: 200
      psiSkill: 0
      melee: 85
    armor: STR_NECRON_IMORTAL_ARMOR_REVIVES
    standHeight: 20
    kneelHeight: 15
    value: 5
    deathSound: [{mod: 40k, index: 289}, {mod: 40k, index: 290}, {mod: 40k, index: 291}]
    spawnUnit: STR_NECRON_IMORTAL
    canPanic: false
    canBeMindControlled: false
    intelligence: 2  # Necron immortals have some level of intelligence
    aggression: 8
    spotter: 1
    sniper: 75
    energyRecovery: 200
    builtInWeaponSets: []
    weightedBuiltInWeaponSets:
      -  # Tier 1
        BASIC_GAUSS_BLASTER: 90
        GAUSS_BLASTER_WITH_SCARAB: 10
      -  # Tier 2
        BASIC_GAUSS_BLASTER: 50
        GAUSS_BLASTER_WITH_SCARAB: 50
      -  # Tier 3
        BASIC_GAUSS_BLASTER: 5
        GAUSS_BLASTER_WITH_SCARAB: 95


  - type: STR_NECRON_DEATHMARK_REVIVES  # STR_NECRON_WARRIOR_ARMOR                        RANK 5 weapons done
    race: STR_NECRON
    rank: STR_LIVE_SOLDIER
    stats:
      tu: 75
      stamina: 100
      health: 60
      bravery: 110
      reactions: 100
      firing: 100
      throwing: 80
      strength: 60
      psiStrength: 200
      psiSkill: 0
      melee: 65
    armor: STR_NECRON_DEATHMARK_ARMOR_REVIVES
    standHeight: 20
    kneelHeight: 15
    value: 5
    deathSound: [{mod: 40k, index: 289}, {mod: 40k, index: 290}, {mod: 40k, index: 291}]
    spawnUnit: STR_NECRON_DEATHMARK
    canPanic: false
    canBeMindControlled: false
    intelligence: 4  # deathmark are intelligent necrons
    aggression: 1
    spotter: 2
    sniper: 100  # they are primarily snipers
    energyRecovery: 200
    builtInWeaponSets: []
    weightedBuiltInWeaponSets:
      -  # Tier 1
        BASIC_SYNAPTIC_DISINTEGRATOR: 80
        SYNAPTIC_DISINTEGRATOR_WITH_SCARAB: 20
      -  # Tier 2
        BASIC_SYNAPTIC_DISINTEGRATOR: 40
        SYNAPTIC_DISINTEGRATOR_WITH_SCARAB: 60
      -  # Tier 3
        BASIC_SYNAPTIC_DISINTEGRATOR: 1
        SYNAPTIC_DISINTEGRATOR_WITH_SCARAB: 99

  - type: STR_NECRON_DEATHMARK
    stats:
      tu: 75
      stamina: 100
      health: 60  # was 40
      bravery: 110
      reactions: 100
      firing: 100
      throwing: 80
      strength: 60
      psiStrength: 200
      psiSkill: 0
      melee: 65
    intelligence: 4  # deathmark are intelligent necrons
    aggression: 1
    spotter: 2
    sniper: 100  # they are primarily snipers
    energyRecovery: 200
    value: 15
    builtInWeaponSets: []
    weightedBuiltInWeaponSets:
      -  # Tier 1
        BASIC_SYNAPTIC_DISINTEGRATOR: 80
        SYNAPTIC_DISINTEGRATOR_WITH_SCARAB: 20
      -  # Tier 2
        BASIC_SYNAPTIC_DISINTEGRATOR: 40
        SYNAPTIC_DISINTEGRATOR_WITH_SCARAB: 60
      -  # Tier 3
        BASIC_SYNAPTIC_DISINTEGRATOR: 1
        SYNAPTIC_DISINTEGRATOR_WITH_SCARAB: 99

  - type: STR_NECRON_LYCHGUARD_REVIVES  # STR_NECRON_LYCHGUARD_ARMOR                        RANK 5 weapons done
    race: STR_NECRON
    rank: STR_LIVE_COMMANDER
    stats:
      tu: 90
      stamina: 100
      health: 200  # was 100
      bravery: 110
      reactions: 85
      firing: 74
      throwing: 80
      strength: 80
      psiStrength: 200
      psiSkill: 0
      melee: 100
    armor: STR_NECRON_LYCHGUARD_ARMOR_REVIVES
    standHeight: 20
    kneelHeight: 15
    value: 5
    deathSound: [{mod: 40k, index: 289}, {mod: 40k, index: 290}, {mod: 40k, index: 291}]
    intelligence: 5  # Lychguard are intelligent necrons
    spawnUnit: STR_NECRON_LYCHGUARD
    canPanic: false
    canBeMindControlled: false
    aggression: 8
    avoidsFire: false
    isLeeroyJenkins: true
    spotter: 1
    energyRecovery: 200
    builtInWeaponSets: []
    weightedBuiltInWeaponSets:
      -  # Tier 1
        LYCHGUARD_SWORD_AND_SHIELD: 50
        LYCHGUARD_WARSCYTHE: 50
      -  # Tier 2
        LYCHGUARD_SWORD_AND_SHIELD: 50
        LYCHGUARD_WARSCYTHE: 50
      -  # Tier 3
        LYCHGUARD_SWORD_AND_SHIELD: 50
        LYCHGUARD_WARSCYTHE: 50

  - type: STR_NECRON_LYCHGUARD
    stats:
      tu: 90
      stamina: 100
      health: 200  # was 100
      bravery: 110
      reactions: 85
      firing: 74
      throwing: 80
      strength: 80
      psiStrength: 200
      psiSkill: 0
      melee: 100
    avoidsFire: false
    isLeeroyJenkins: true
    aggression: 8
    intelligence: 5  # Lychguard are intelligent necrons
    spotter: 1
    value: 25
    energyRecovery: 200
    builtInWeaponSets: []
    weightedBuiltInWeaponSets:
      -  # Tier 1
        LYCHGUARD_SWORD_AND_SHIELD_FIXED: 50
        LYCHGUARD_WARSCYTHE_FIXED: 50
      -  # Tier 2
        LYCHGUARD_SWORD_AND_SHIELD_FIXED: 50
        LYCHGUARD_WARSCYTHE_FIXED: 50
      -  # Tier 3
        LYCHGUARD_SWORD_AND_SHIELD_FIXED: 50
        LYCHGUARD_WARSCYTHE_FIXED: 50

  - type: STR_NECRON_DESTROYER
    sniper: 75
    intelligence: 2
    aggression: 8
    avoidsFire: false
    spotter: 1
    value: 30
    energyRecovery: 200
    stats:
      tu: 120 #fast
      stamina: 200
      health: 75  # effective HP 500  # tried 200 but was too much  # was 100
      bravery: 110
      strength: 120

  - &NECRON_DESTROYER_LORD_UNIT_TEMPLATE
    type: STR_NECRON_DESTROYER_LORD
    race: STR_NECRON
    rank: STR_LIVE_COMMANDER
    armor: STR_NECRON_DESTROYER_LORD_ARMOR
    standHeight: 23
    kneelHeight: 16
    deathSound: {mod: 40k, index: 289, 290, 291}
    intelligence: 8
    aggression: 8
    spotter: 2
    sniper: 100
    moveSound: {mod: 40k, index: 845}
    livingWeapon: true
    avoidsFire: false
    value: 50
    energyRecovery: 200
    stats:
      tu: 150
      stamina: 200
      health: 125
      bravery: 120
      reactions: 85
      firing: 110
      throwing: 0
      strength: 160
      psiStrength: 200
      psiSkill: 0
      melee: 110
    liveAlien: STR_NECRON_DESTROYER_LORD_CORPSE

  - type: STR_NECRON_DESTROYER_LORD_SCYTHE
    refNode: *NECRON_DESTROYER_LORD_UNIT_TEMPLATE
    armor: STR_NECRON_DESTROYER_LORD_SCYTHE_ARMOR
    isLeeroyJenkins: true
    stats:
      tu: 160
      reactions: 95
      firing: 90
      melee: 130

  - type: STR_NECRON_SCARAB5  # STR_NECRON_WARRIOR_ARMOR                        RANK 5 weapons done
    race: STR_NECRON
    rank: STR_LIVE_SOLDIER
    stats:
      tu: 115
      stamina: 200
      health: 60  # each scarab has 30 HP; after losing 60 HP, loses 2 scarabs and respawns a 3 scarab swarm
      bravery: 110
      reactions: 100
      firing: 74
      throwing: 80
      strength: 30
      psiStrength: 200
      psiSkill: 0
      melee: 65
    value: 5
    intelligence: 1
    aggression: 8
    avoidsFire: false
    isLeeroyJenkins: true
    spotter: 2
    energyRecovery: 200
    spawnUnit: STR_NECRON_SCARAB3

  - type: STR_NECRON_SCARAB3  # STR_NECRON_WARRIOR_ARMOR                        RANK 5 weapons done
    race: STR_NECRON
    rank: STR_LIVE_SOLDIER
    stats:
      tu: 115
      stamina: 200
      health: 60
      bravery: 110
      reactions: 100
      firing: 74
      throwing: 80
      strength: 30
      psiStrength: 200
      psiSkill: 0
      melee: 65
    value: 5
    intelligence: 1
    aggression: 8
    avoidsFire: false
    isLeeroyJenkins: true
    spotter: 2
    energyRecovery: 200
    spawnUnit: STR_NECRON_SCARAB1

  - type: STR_NECRON_SCARAB1  # STR_NECRON_WARRIOR_ARMOR                        RANK 5 weapons done
    race: STR_NECRON
    rank: STR_LIVE_SOLDIER
    stats:
      tu: 115
      stamina: 200
      health: 30
      bravery: 110
      reactions: 100
      firing: 74
      throwing: 80
      strength: 30
      psiStrength: 200
      psiSkill: 0
      melee: 65
    value: 5
    intelligence: 1
    aggression: 8
    avoidsFire: false
    isLeeroyJenkins: true
    spotter: 2
    specab: 1
    energyRecovery: 200

  - type: STR_NECRON_ARCHITECT  # STR_NECRON_LYCHGUARD_ARMOR                        RANK 5 weapons done
    race: STR_NECRON
    rank: STR_LIVE_COMMANDER
    stats:
      tu: 150
      stamina: 150
      health: 200
      bravery: 100
      reactions: 90
      firing: 120
      throwing: 80
      strength: 60
      psiStrength: 200
      psiSkill: 0
      melee: 120
    armor: STR_NECRON_ARCHITECT_ARMOR
    standHeight: 20
    kneelHeight: 15
    value: 50
    deathSound: [{mod: 40k, index: 289}, {mod: 40k, index: 290}, {mod: 40k, index: 291}]
    intelligence: 9
    aggression: 8
    spotter: 4
    sniper: 100
    energyRecovery: 200
    # spawnUnit: STR_NECRON_IMORTAL
    builtInWeaponSets:
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
        - STR_NECRON_SCARAB_SPAWNER_GRENADE

  - &NECRON_LORD_UNIT_TEMPLATE
    type: STR_NECRON_LORD
    race: STR_NECRON
    rank: STR_LIVE_COMMANDER
    stats:
      tu: 150
      stamina: 150
      health: 200
      bravery: 100
      reactions: 90
      firing: 120
      throwing: 80
      strength: 60
      psiStrength: 200
      psiSkill: 0
      melee: 120
    armor: STR_NECRON_LORD_ARMOR
    standHeight: 20
    kneelHeight: 15
    value: 50
    deathSound: [{mod: 40k, index: 289}, {mod: 40k, index: 290}, {mod: 40k, index: 291}]
    intelligence: 9
    aggression: 8
    spotter: 4
    sniper: 100
    energyRecovery: 200
    # spawnUnit: STR_NECRON_IMORTAL
    builtInWeaponSets:
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
        - STR_NECRON_SCARAB_SPAWNER_GRENADE

  - type: STR_NECRON_LORD_REVIVES
    refNode: *NECRON_LORD_UNIT_TEMPLATE
    armor: STR_NECRON_LORD_ARMOR_REVIVES
    spawnUnit: STR_NECRON_LORD
    builtInWeaponSets:
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE
      - - STR_STAFF_OF_LIGHT
        - STR_NECRON_RESURRECTION_ORB
        - STR_NECRON_SCARAB_SPAWNER_GRENADE

  - &NECRON_TURRET_TEMPLATE
    type: STR_MONO_N     # NECRON TURRET       race: STR_NECRON
    stats:
      tu: 100
      stamina: 100
      bravery: 110
      reactions: 20
    aggression: 8
    intelligence: 1
    spotter: 1
    sniper: 100  # long range fire support

  - type: STR_MONO_S     # NECRON TURRET       race: STR_NECRON
    refNode: *NECRON_TURRET_TEMPLATE

  - type: STR_MONO_E     # NECRON TURRET       race: STR_NECRON
    refNode: *NECRON_TURRET_TEMPLATE

  - type: STR_MONO_W     # NECRON TURRET       race: STR_NECRON
    refNode: *NECRON_TURRET_TEMPLATE

  - &FLAYED_ONE_TEMPLATE
    type: STR_NECRON_FLAYED_ONE  # STR_NECRON_FLAYED_ONE
    race: STR_NECRON
    rank: STR_LIVE_SOLDIER
    stats:
      tu: 60
      stamina: 200
      health: 100
      bravery: 120
      reactions: 65
      firing: 0
      throwing: 0
      strength: 80
      psiStrength: 200
      psiSkill: 0
      melee: 100
    armor: STR_NECRON_FLAYED_ONE_ARMOR
    standHeight: 20
    kneelHeight: 15
    deathSound: [{mod: 40k, index: 289}, {mod: 40k, index: 290}, {mod: 40k, index: 291}]
    intelligence: 2  # feral but cunning
    aggression: 8
    canPanic: false
    canBeMindControlled: false
    avoidsFire: false
    isLeeroyJenkins: true
    spotter: 1
    value: 10
    energyRecovery: 200
    builtInWeaponSets:
      - - STR_NECRON_FLAYED_ONE_CLAW
        - STR_INTIMIDATION_WEAPON
        - STR_KILLPOINT_TOKEN_7
      - - STR_NECRON_FLAYED_ONE_CLAW
        - STR_INTIMIDATION_WEAPON
        - STR_KILLPOINT_TOKEN_7
      - - STR_NECRON_FLAYED_ONE_CLAW
        - STR_INTIMIDATION_WEAPON
        - STR_KILLPOINT_TOKEN_7

  - type: STR_NECRON_FLAYED_ONE_REVIVES  # STR_NECRON_FLAYED_ONE
    refNode: *FLAYED_ONE_TEMPLATE
    armor: STR_NECRON_FLAYED_ONE_ARMOR_REVIVES
    spawnUnit: STR_NECRON_FLAYED_ONE

  - type: STR_NECRON_PORTAL
    race: STR_NECRON
    rank: STR_LIVE_SOLDIER
    stats:
      tu: 10
      stamina: 200
      health: 300
      bravery: 120
      reactions: 0
      firing: 0
      throwing: 0
      strength: 200
      psiStrength: 200
      psiSkill: 0
      melee: 0
    armor: STR_NECRON_PORTAL_ARMOR
    standHeight: 20
    kneelHeight: 15
    deathSound: [{mod: 40k, index: 289}, {mod: 40k, index: 290}, {mod: 40k, index: 291}]
    intelligence: 1 #basic AI
    aggression: 0
    capturable: false
    canPanic: false
    canBeMindControlled: false
    avoidsFire: false
    spotter: 1
    value: 0 # points derive from the things it spawns; also prevents points from it constantly killing and regenerating itself
    energyRecovery: 200
    builtInWeaponSets: []
    specab: 1
    weightedBuiltInWeaponSets:
      -  # Tier 1
        NECRON_PORTAL_MIXED_REINFORCEMENTS_LOW: 30
        NECRON_PORTAL_WARRIOR_REINFORCEMENTS: 20
        NECRON_PORTAL_SCARAB_REINFORCEMENTS: 20
        NECRON_PORTAL_FLAYED_ONE_REINFORCEMENTS: 9
        NECRON_PORTAL_MIXED_REINFORCEMENTS_MID: 9
        NECRON_PORTAL_IMMORTAL_REINFORCEMENTS: 5
        NECRON_PORTAL_DEATHMARK_REINFORCEMENTS: 5
        NECRON_PORTAL_LYCHGUARD_REINFORCEMENTS: 1
        NECRON_PORTAL_MIXED_REINFORCEMENTS_HIGH: 1
      -  # Tier 2
        NECRON_PORTAL_MIXED_REINFORCEMENTS_MID: 20
        NECRON_PORTAL_WARRIOR_REINFORCEMENTS: 20
        NECRON_PORTAL_IMMORTAL_REINFORCEMENTS: 15
        NECRON_PORTAL_MIXED_REINFORCEMENTS_LOW: 10
        NECRON_PORTAL_SCARAB_REINFORCEMENTS: 10
        NECRON_PORTAL_FLAYED_ONE_REINFORCEMENTS: 10
        NECRON_PORTAL_DEATHMARK_REINFORCEMENTS: 9
        NECRON_PORTAL_MIXED_REINFORCEMENTS_HIGH: 5
        NECRON_PORTAL_LYCHGUARD_REINFORCEMENTS: 1
      -  # Tier 3
        NECRON_PORTAL_MIXED_REINFORCEMENTS_HIGH: 20
        NECRON_PORTAL_IMMORTAL_REINFORCEMENTS: 20
        NECRON_PORTAL_WARRIOR_REINFORCEMENTS: 15
        NECRON_PORTAL_MIXED_REINFORCEMENTS_MID: 10
        NECRON_PORTAL_DEATHMARK_REINFORCEMENTS: 10
        NECRON_PORTAL_FLAYED_ONE_REINFORCEMENTS: 10
        NECRON_PORTAL_SCARAB_REINFORCEMENTS: 5
        NECRON_PORTAL_LYCHGUARD_REINFORCEMENTS: 5
        NECRON_PORTAL_MIXED_REINFORCEMENTS_LOW: 5

armors:
  - type: STR_NECRON_WARRIOR_ARMOR     # NECRON WARRIOR
    visibilityAtDay: 35
    visibilityAtDark: 35
    heatVision: 40
    overKill: 0.2  # 0.5 is default, health+50, so 150 damage to vaporize
    frontArmor: 80
    sideArmor: 70
    rearArmor: 40
    underArmor: 70
    allowsRunning: false  # NPC limits for BAI
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5

  - type: STR_NECRON_WARRIOR_ARMOR_REVIVES      # NECRON WARRIOR
    visibilityAtDay: 35
    visibilityAtDark: 35
    heatVision: 40
    bleedImmune: true
    fearImmune: true
    painImmune: true
    zombiImmune: true
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_MECHANICAL: 1  # necrons count as robotic/mechanical  # necrons count as robotic/mechanical
    spriteSheet: NECRONDR1_REVIVE.PCK
    deathFrames: 6
    spriteInv: NECRON1.SPK
    corpseBattle:
      - STR_NECRON_WARRIOR_CORPSE
    frontArmor: 80
    sideArmor: 70
    rearArmor: 40
    underArmor: 70
    drawingRoutine: 0
    allowsRunning: false  # NPC limits for BAI
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
        fatalWounds: 2
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.9  # AP
      - 0.4  # FLAMES
      - 1.0  # HE
      - 1.1  # LASCANON; minor weakness to lascannon
      - 1.0  # PLASMA
      - 1.0  # STUN
      - 1.0  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 1.0  # IMPACT
      - 1.1  # MELTA; minor weakness to melta
    loftempsSet: [3]
    builtInWeapons:
      - INV_NULL_3X3

  - type: STR_NECRON_LYCHGUARD_ARMOR
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 40
    antiCamouflageAtDark: 10
    antiCamouflageAtDay: 5
    overKill: 0.5
    frontArmor: 170
    sideArmor: 150
    rearArmor: 70
    underArmor: 150
    allowsRunning: false  # NPC limits for BAI
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    builtInWeapons:
      - INV_NULL_3X3

  - type: STR_NECRON_LYCHGUARD_ARMOR_REVIVES        # NECRON WARRIOR
    tags:
      # ARMOR_ENERGY_SHIELD_CAPACITY: 80
      # ARMOR_ENERGY_SHIELD_PER_TURN: 10
      # ARMOR_ENERGY_SHIELD_FLASH_COLOR: 9
      ARMOR_ENERGY_SHIELD_HP_PER_TURN: 10
      ARMOR_ENERGY_SHIELD_DECAY: 12
      ARMOR_GAINS_PSISKILL_SECONDARY_EXPERIENCE: 6
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 40
    antiCamouflageAtDark: 10
    antiCamouflageAtDay: 5
    bleedImmune: true
    fearImmune: true
    painImmune: true
    zombiImmune: true
    spriteSheet: NECRONDR4_REVIVE.PCK
    deathFrames: 5
    spriteInv: NECRON4.SPK
    corpseBattle:
      - STR_NECRON_LYCHGUARD_CORPSE
    frontArmor: 170
    sideArmor: 150
    rearArmor: 70
    underArmor: 150
    drawingRoutine: 0
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    allowsRunning: false  # NPC limits for BAI
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.9  # AP
      - 0.4  # FLAMES
      - 1.0  # HE
      - 1.1  # LASCANON; minor weakness to lascannon
      - 1.0  # PLASMA
      - 1.0  # STUN
      - 1.0  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 1.0  # IMPACT
      - 1.1  # MELTA; minor weakness to melta
    loftempsSet: [3]
    builtInWeapons:
      - INV_NULL_3X3

  - type: STR_NECRON_IMORTAL_ARMOR
    visibilityAtDay: 35
    visibilityAtDark: 35
    heatVision: 40
    overKill: 0.4
    frontArmor: 110
    sideArmor: 90
    rearArmor: 40
    underArmor: 90
    drawingRoutine: 0
    allowsRunning: false  # NPC limits for BAI
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5

  - type: STR_NECRON_IMORTAL_ARMOR_REVIVES       # NECRON WARRIOR
    visibilityAtDay: 35
    visibilityAtDark: 35
    heatVision: 40
    bleedImmune: true
    fearImmune: true
    painImmune: true
    zombiImmune: true
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1
    spriteSheet: NECRONDR2_REVIVE.PCK
    deathFrames: 6
    spriteInv: NECRON2.SPK
    corpseBattle:
      - STR_NECRON_IMORTAL_CORPSE
    frontArmor: 100
    sideArmor: 80
    rearArmor: 40
    underArmor: 80
    drawingRoutine: 0
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    allowsRunning: false  # NPC limits for BAI
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.9  # AP
      - 0.4  # FLAMES
      - 1.0  # HE
      - 1.1  # LASCANON; minor weakness to lascannon
      - 1.0  # PLASMA
      - 1.0  # STUN
      - 1.0  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 1.0  # IMPACT
      - 1.1  # MELTA; minor weakness to melta
    loftempsSet: [3]
    builtInWeapons:
      - INV_NULL_3X3

  - type: STR_NECRON_DEATHMARK_ARMOR
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 50  # smoke is only a minor impairment to Deathmark snipers
    antiCamouflageAtDark: 15
    antiCamouflageAtDay: 15
    camouflageAtDark: -15  # blends in to the dark
    camouflageAtDay: -10  # largely because it's a deep strike unit that can't just phase in wherever
    frontArmor: 60
    sideArmor: 50
    rearArmor: 40
    underArmor: 50
    overKill: 0.4
    allowsRunning: false  # NPC limits for BAI
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.9  # AP
      - 0.4  # FLAMES
      - 1.0  # HE
      - 1.1  # LASCANON; minor weakness to lascannon
      - 1.0  # PLASMA
      - 1.0  # STUN
      - 1.0  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 1.0  # IMPACT
      - 1.1  # MELTA; minor weakness to melta
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5

  - type: STR_NECRON_DEATHMARK_ARMOR_REVIVES      # NECRON WARRIOR
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 50  # smoke is only a minor impairment to Deathmark snipers
    antiCamouflageAtDark: 15
    antiCamouflageAtDay: 15
    camouflageAtDark: -15  # blends in to the dark
    camouflageAtDay: -10  # largely because it's a deep strike unit that can't just phase in wherever
    bleedImmune: true
    fearImmune: true
    painImmune: true
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1
    spriteSheet: NECRONDR3_REVIVE.PCK
    deathFrames: 6
    spriteInv: NECRON3.SPK
    corpseBattle:
      - STR_NECRON_DEATHMARK_CORPSE
    frontArmor: 60
    sideArmor: 50
    rearArmor: 40
    underArmor: 50
    drawingRoutine: 0
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.9  # AP
      - 0.4  # FLAMES
      - 1.0  # HE
      - 1.1  # LASCANON; minor weakness to lascannon
      - 1.0  # PLASMA
      - 1.0  # STUN
      - 1.0  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 1.0  # IMPACT
      - 1.1  # MELTA; minor weakness to melta
    loftempsSet: [3]
    builtInWeapons:
      - INV_NULL_3X3

  - type: STR_DESTROYER_ARMOR              # NECRON DESTROYER
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 40
    antiCamouflageAtDark: 10
    antiCamouflageAtDay: 5
    spriteSheet: NECRONDR5.PCK
    fearImmune: true
    bleedImmune: true
    painImmune: true
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    scripts:
      selectUnitSprite: |
        var int temp;
        var int walking;
        var int floating;
        unit.isWalking walking;
        unit.isFloating floating;
        if and eq walking 0 eq floating 1;
          unit.getId temp;
          offsetmod temp 11 0 8; # desync animation of different units
          add temp anim_frame;
          wavegen_saw temp 4 4 4;
          add sprite_offset 1;
          add sprite_offset temp;
          add sprite_index sprite_offset;
        else;
          add sprite_index sprite_offset;
        end;
        return sprite_index;
    allowInv: false
    spriteInv: NECRON5.SPK
    corpseBattle:
      - 100_NECRON1
      - 100_NECRON2
      - 100_NECRON3
      - 100_NECRON4
    corpseGeo: STR_DESTROYER_CORPSE
    frontArmor: 120 #power armor equivalent
    sideArmor: 110
    rearArmor: 80
    underArmor: 120
    drawingRoutine: 20
    constantAnimation: false
    movementType: 1
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    size: 2
    damageModifier:  # VEHICLE ARMOR LARGE; takes reduced explosive, incendiary and AP damage in exchange for greater lascannon and melta damage vs baseline necrons
      - 1.0  # none
      - 0.8  # AP
      - 0.3  # FLAMES
      - 0.8  # HE
      - 1.4  # LASCANON
      - 1.0  # PLASMA
      - 0.9  # STUN
      - 0.8  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 0.2  # IMPACT
      - 1.2  # MELTA
    loftempsSet: [92, 89, 90, 91]
    builtInWeapons:
      - STR_GAUSS_CANNON

  - &NECRON_DESTROYER_LORD_ARMOR_TEMPLATE
    type: STR_NECRON_DESTROYER_LORD_ARMOR  # STR_NECRON_DESTROYER_LORD
    heatVision: 50
    antiCamouflageAtDark: 15
    antiCamouflageAtDay: 10
    psiVision: 5
    fearImmune: true
    bleedImmune: true
    painImmune: true
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    spriteSheet: STR_NECRON_DESTROYER_LORD_BS.PCK
    spriteInv: STR_NECRON_DESTROYER_LORD_INV.SPK
    corpseBattle:
      - STR_NECRON_DESTROYER_LORD_CORPSE_1
      - STR_NECRON_DESTROYER_LORD_CORPSE_2
      - STR_NECRON_DESTROYER_LORD_CORPSE_3
      - STR_NECRON_DESTROYER_LORD_CORPSE_4
    frontArmor: 140 #artificer power armor equivalent
    sideArmor: 130
    rearArmor: 100
    underArmor: 140
    allowInv: false
    movementType: 1
    size: 2
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    scripts:
      selectUnitSprite: |
        var int temp;
        var int walking;
        var int floating;
        unit.isWalking walking;
        unit.isFloating floating;
        if and eq walking 0 eq floating 1;
          unit.getId temp;
          offsetmod temp 11 0 8; # desync animation of different units
          add temp anim_frame;
          wavegen_saw temp 4 4 4;
          add sprite_offset 1;
          add sprite_offset temp;
          add sprite_index sprite_offset;
        else;
          add sprite_index sprite_offset;
        end;
        return sprite_index;
    drawingRoutine: 20
    constantAnimation: false
    damageModifier:  # takes reduced explosive, incendiary and AP damage in exchange for greater lascannon and melta damage vs baseline necrons; resists 10% better across the board due to artificer quality
      - 1.0  # none
      - 0.7  # AP
      - 0.2  # FLAMES
      - 0.7  # HE
      - 1.3  # LASCANON
      - 0.9  # PLASMA
      - 0.8  # STUN
      - 0.7  # MELEE
      - 0.4  # ACID
      - 0.0  # SMOKE
      - 0.1  # IMPACT
      - 1.1  # MELTA
    loftempsSet: [92, 89, 90, 91]
    builtInWeapons:
      - STR_STAFF_OF_LIGHT_FIXED
      - STR_NECRON_RESURRECTION_ORB
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1
      DODGE_CHANCE: 10
      FLIGHT_DODGE_CHANCE: 20
      ARMOR_MAX_SUCCESSFUL_DODGES: 1

  - type: STR_NECRON_DESTROYER_LORD_SCYTHE_ARMOR  # STR_NECRON_DESTROYER_LORD_SCYTHE
    refNode: *NECRON_DESTROYER_LORD_ARMOR_TEMPLATE
    spriteSheet: STR_NECRON_DESTROYER_LORD_SCYTHE_BS.PCK
    spriteInv: STR_NECRON_DESTROYER_LORD_SCYTHE_INV.SPK
    scripts:
      selectUnitSprite: |
        var int temp;
        var int walking;
        var int floating;
        unit.isWalking walking;
        unit.isFloating floating;
        if and eq walking 0 eq floating 1;
          unit.getId temp;
          offsetmod temp 11 0 8; # desync animation of different units
          add temp anim_frame;
          wavegen_saw temp 4 4 4;
          add sprite_offset 1;
          add sprite_offset temp;
          add sprite_index sprite_offset;
        else;
          add sprite_index sprite_offset;
        end;
        return sprite_index;
    corpseBattle:
      - STR_NECRON_DESTROYER_LORD_SCYTHE_CORPSE_1
      - STR_NECRON_DESTROYER_LORD_SCYTHE_CORPSE_2
      - STR_NECRON_DESTROYER_LORD_SCYTHE_CORPSE_3
      - STR_NECRON_DESTROYER_LORD_SCYTHE_CORPSE_4
    frontArmor: 150 #artificer power armor equivalent; reinforced for melee
    sideArmor: 140
    rearArmor: 110
    underArmor: 150
    builtInWeapons:
      - STR_NECRON_WARSCYTHE
      - STR_NECRON_WARSCYTHE_MELEE_ONLY
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1
      DODGE_CHANCE: 20
      FLIGHT_DODGE_CHANCE: 30
      ARMOR_MAX_SUCCESSFUL_DODGES: 2

  - type: STR_NECRON_SCARAB_ARMOR3         # NECRON WARRIOR
    visibilityAtDay: 40  # effective scouters/spotters for Necrons
    visibilityAtDark: 40
    heatVision: 40
    antiCamouflageAtDark: 10  # sensors
    antiCamouflageAtDay: 5  # sensors
    psiVision: 5  # sensors
    spriteSheet: NECRONDR7.PCK
    fearImmune: true
    bleedImmune: true
    painImmune: true
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    scripts:
      selectUnitSprite: |
        var int temp;
        var int walking;
        var int floating;
        unit.isWalking walking;
        unit.isFloating floating;
        if and eq walking 0 eq floating 1;
          unit.getId temp;
          offsetmod temp 11 0 8; # desync animation of different units
          add temp anim_frame;
          wavegen_saw temp 4 4 4;
          add sprite_offset 1;
          add sprite_offset temp;
          add sprite_index sprite_offset;
        else;
          add sprite_index sprite_offset;
        end;
        return sprite_index;
    allowInv: false
    spriteInv: NECRON8.SPK
    corpseBattle:
      - 100_NECRON1
      - 100_NECRON2
      - 100_NECRON3
      - 100_NECRON4
    corpseGeo: STR_DESTROYER_CORPSE
    frontArmor: 30
    sideArmor: 30
    rearArmor: 20
    underArmor: 35
    drawingRoutine: 20
    constantAnimation: false
    movementType: 1
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    size: 2
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.5  # AP
      - 0.4  # FLAMES
      - 1.0  # HE; only AoE does full damage due to being a dispersed swarm
      - 0.6  # LASCANON; dispersed swarm, but weakness to lascannon
      - 0.5  # PLASMA
      - 0.0  # STUN; they're automatons, they can't be stunned.
      - 0.5  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 0.5  # IMPACT
      - 0.6  # MELTA; dispersed swarm, but weakness to melta
    loftempsSet: [92, 89, 90, 91]
    builtInWeapons:
      - INV_NULL_3X3
      - STR_SCARAB_R_WEAPON
      - STR_SCARAB_L_WEAPON
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_SIZE: 25 # TINY
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1
      DODGE_CHANCE: 50  # dodge chance increases as the number of scarabs decrease
      ARMOR_MAX_SUCCESSFUL_DODGES: 4


  - type: STR_NECRON_SCARAB_ARMOR5         # NECRON WARRIOR
    visibilityAtDay: 40  # effective scouters/spotters for Necrons
    visibilityAtDark: 40
    heatVision: 40
    antiCamouflageAtDark: 10  # sensors
    antiCamouflageAtDay: 5  # sensors
    psiVision: 5  # sensors
    spriteSheet: NECRONDR8.PCK
    fearImmune: true
    bleedImmune: true
    painImmune: true
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    scripts:
      selectUnitSprite: |
        var int temp;
        var int walking;
        var int floating;
        unit.isWalking walking;
        unit.isFloating floating;
        if and eq walking 0 eq floating 1;
          unit.getId temp;
          offsetmod temp 11 0 8; # desync animation of different units
          add temp anim_frame;
          wavegen_saw temp 4 4 4;
          add sprite_offset 1;
          add sprite_offset temp;
          add sprite_index sprite_offset;
        else;
          add sprite_index sprite_offset;
        end;
        return sprite_index;
    allowInv: false
    spriteInv: NECRON7.SPK
    corpseBattle:
      - 100_NECRON1
      - 100_NECRON2
      - 100_NECRON3
      - 100_NECRON4
    corpseGeo: STR_DESTROYER_CORPSE
    frontArmor: 30
    sideArmor: 30
    rearArmor: 20
    underArmor: 35
    drawingRoutine: 20
    constantAnimation: false
    movementType: 1
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    size: 2
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.5  # AP
      - 0.4  # FLAMES
      - 1.0  # HE; only AoE does full damage due to being a dispersed swarm
      - 0.6  # LASCANON; dispersed swarm, but weakness to lascannon
      - 0.5  # PLASMA
      - 0.0  # STUN; they're automatons, they can't be stunned.
      - 0.5  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 0.5  # IMPACT
      - 0.6  # MELTA; dispersed swarm, but weakness to melta
    loftempsSet: [92, 89, 90, 91]
    builtInWeapons:
      - INV_NULL_3X3
      - STR_SCARAB_R_WEAPON
      - STR_SCARAB_L_WEAPON
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_SIZE: 25 # TINY
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1
      DODGE_CHANCE: 40  # dodge chance increases as the number of scarabs decrease
      ARMOR_MAX_SUCCESSFUL_DODGES: 4

  - type: STR_NECRON_SCARAB_ARMOR1         # NECRON WARRIOR
    visibilityAtDay: 40  # effective scouters/spotters for Necrons
    visibilityAtDark: 40
    heatVision: 40
    antiCamouflageAtDark: 10  # sensors
    antiCamouflageAtDay: 5  # sensors
    psiVision: 5  # sensors
    bleedImmune: true
    fearImmune: true
    painImmune: false
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    spriteSheet: NECRONDR9.PCK
    spriteInv: NECRON9.SPK
    scripts:
      selectUnitSprite: |
        var int temp;
        var int walking;
        unit.isWalking walking;
        if eq walking 0;
          unit.getId temp;
          offsetmod temp 11 0 8; # desync animation of different units
          add temp anim_frame;
          wavegen_saw temp 8 8 7;
          mul sprite_offset 8;
          add sprite_offset 8;
          add sprite_offset temp;
          set sprite_index sprite_offset;
        else;
          add sprite_index sprite_offset;
        end;
        return sprite_index;
    corpseBattle:
      - STR_NECRON_SCARAB_CORPSE
    frontArmor: 30
    sideArmor: 30
    rearArmor: 20
    underArmor: 35
    drawingRoutine: 4
    movementType: 1
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.5  # AP
      - 0.4  # FLAMES
      - 1.0  # HE; only AoE does full damage due to being a dispersed swarm
      - 0.6  # LASCANON; dispersed swarm, but weakness to lascannon
      - 0.5  # PLASMA
      - 1.0  # STUN
      - 0.5  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 0.5  # IMPACT
      - 0.6  # MELTA; dispersed swarm, but weakness to melta
    loftempsSet: [3]
    builtInWeapons:
      - INV_NULL_3X3
      - STR_SCARAB_R_WEAPON
      - STR_SCARAB_L_WEAPON
    tags:
      DODGE_CHANCE: 70  # dodge chance increases as the number of scarabs decrease
      ARMOR_MAX_SUCCESSFUL_DODGES: 5

  - type: STR_NECRON_ARCHITECT_ARMOR
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 60
    antiCamouflageAtDark: 15 # superior sensors
    antiCamouflageAtDay: 15
    psiVision: 5 # superior sensors
    bleedImmune: true
    fearImmune: true
    painImmune: true
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    spriteSheet: NECRONDR6.PCK
    spriteInv: NECRON6.SPK
    corpseBattle:
      - STR_NECRON_ARCHITECT_CORPSE
    frontArmor: 170
    sideArmor: 160
    rearArmor: 100
    underArmor: 170
    drawingRoutine: 0
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.6
    damageModifier:  # NECRON ARMOR; Superior Necrodermis
      - 1.0  # none
      - 0.8  # AP
      - 0.3  # FLAMES
      - 0.9  # HE
      - 1.0  # LASCANON
      - 0.9  # PLASMA
      - 1.0  # STUN
      - 0.9  # MELEE
      - 0.4  # ACID
      - 0.0  # SMOKE
      - 0.9  # IMPACT
      - 1.0  # MELTA
    loftempsSet: [3]
    builtInWeapons:
      - INV_NULL_3X3
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1

  - &NECRON_LORD_ARMOR_TEMPLATE
    type: STR_NECRON_LORD_ARMOR
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 50 # superior sensors
    antiCamouflageAtDark: 10 # superior sensors
    antiCamouflageAtDay: 10
    psiVision: 5 # superior sensors
    bleedImmune: true
    fearImmune: true
    painImmune: true
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    spriteSheet: STR_NECRON_LORD_BS.PCK
    spriteInv: STR_NECRON_LORD_INV.SPK
    corpseBattle:
      - STR_NECRON_LORD_CORPSE
    frontArmor: 150
    sideArmor: 140
    rearArmor: 100
    underArmor: 150
    drawingRoutine: 0
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    damageModifier:  # NECRON ARMOR; Superior Necrodermis
      - 1.0  # none
      - 0.8  # AP
      - 0.3  # FLAMES
      - 0.9  # HE
      - 1.0  # LASCANON
      - 0.9  # PLASMA
      - 1.0  # STUN
      - 0.9  # MELEE
      - 0.4  # ACID
      - 0.0  # SMOKE
      - 0.9  # IMPACT
      - 1.0  # MELTA
    loftempsSet: [3]
    builtInWeapons:
      - INV_NULL_3X3
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1

  - type: STR_NECRON_LORD_ARMOR_REVIVES
    refNode: *NECRON_LORD_ARMOR_TEMPLATE
    spriteSheet: STR_NECRON_LORD_REVIVE_BS.PCK
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1


  - &NECRON_TURRET_ARMOR_TEMPLATE
    type: STR_MONO_N_ARMOR
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 50
    antiCamouflageAtDark: 10
    antiCamouflageAtDay: 5
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_SIZE: 200 # HUGE
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1
    damageModifier:  # NECRON Vehicle Heavy ARMOR
      - 1.0  # none
      - 0.8  # AP
      - 0.1  # FLAMES
      - 0.8  # HE
      - 1.1  # LASCANON
      - 1.0  # PLASMA
      - 0.0  # STUN
      - 1.0  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 0.0  # IMPACT
      - 1.1  # MELTA
    builtInWeapons:
      - STR_TRIPLE_GAUSS_CANNON

  - type: STR_MONO_S_ARMOR
    refNode: *NECRON_TURRET_ARMOR_TEMPLATE

  - type: STR_MONO_W_ARMOR
    refNode: *NECRON_TURRET_ARMOR_TEMPLATE

  - type: STR_MONO_E_ARMOR
    refNode: *NECRON_TURRET_ARMOR_TEMPLATE

  - type: STR_NECRON_SCARAB_ARMOR5         # NECRON WARRIOR
    builtInWeapons:
      - INV_NULL_3X3
      - STR_SCARAB_R_WEAPON_HEAVY
      - STR_SCARAB_L_WEAPON_HEAVY

  - type: STR_NECRON_SCARAB_ARMOR3         # NECRON WARRIOR
    builtInWeapons:
      - INV_NULL_3X3
      - STR_SCARAB_R_WEAPON_MEDIUM
      - STR_SCARAB_L_WEAPON_MEDIUM

  - &NECRON_FLAYED_ARMOR_TEMPLATE
    type: STR_NECRON_FLAYED_ONE_ARMOR
    visibilityAtDay: 40
    visibilityAtDark: 40
    antiCamouflageAtDark: 15
    antiCamouflageAtDay: 15
    camouflageAtDay: 5  # active camo level stealth
    camouflageAtDark: 2
    heatVision: 40
    psiVision: 10  # bloodhunt/sense the living
    frontArmor: 110
    sideArmor: 100
    rearArmor: 70
    underArmor: 100
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    bleedImmune: true
    fearImmune: true
    painImmune: false
    zombiImmune: true
    spriteSheet: NECRON_FLAYED_ONE_BS.PCK
    spriteInv: NECRON_FLAYED_ONE_INV.SPK
    corpseBattle:
      - STR_NECRON_FLAYED_ONE_CORPSE
    drawingRoutine: 0
    specialWeapon: STR_INTIMIDATION_WEAPON
    allowsRunning: false  # NPC limits for BAI
    damageModifier:  # NECRON ARMOR
      - 1.0  # none
      - 0.9  # AP
      - 0.4  # FLAMES
      - 1.0  # HE
      - 1.1  # LASCANON
      - 1.0  # PLASMA
      - 1.0  # STUN
      - 1.0  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 1.0  # IMPACT
      - 1.1  # MELTA
    loftempsSet: [3]
    builtInWeapons:
      - INV_NULL_3X3
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1

  - type: STR_NECRON_FLAYED_ONE_ARMOR_REVIVES
    refNode: *NECRON_FLAYED_ARMOR_TEMPLATE
    spriteSheet: NECRON_FLAYED_ONE_REVIVE_BS.PCK
    tags:
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1

  - type: STR_NECRON_PORTAL_ARMOR
    visibilityAtDay: 40
    visibilityAtDark: 40
    heatVision: 50
    antiCamouflageAtDark: 10
    antiCamouflageAtDay: 5
    psiVision: 10 #sensor array
    bleedImmune: true
    fearImmune: true
    painImmune: true
    zombiImmune: true
    allowsRunning: false  # NPC limits for BAI
    allowsMoving: false #staitic
    spriteSheet: NECRON_PORTAL_BS.PCK
    spriteInv: NECRON_PORTAL_INV.SPK
    corpseBattle:
      - STR_NECRON_PORTAL_CORPSE
    frontArmor: 150
    sideArmor: 150
    rearArmor: 150
    underArmor: 150
    drawingRoutine: 8
    recovery:  # Living metal rapidly regenerates health
      health:
        healthCurrent: 0.5
    allowInv: false
    damageModifier:  # VEHICLE ARMOR LARGE; takes reduced explosive, incendiary and AP damage in exchange for greater lascannon and melta damage vs baseline necrons
      - 1.0  # none
      - 0.8  # AP
      - 0.3  # FLAMES
      - 0.8  # HE
      - 1.4  # LASCANON
      - 1.0  # PLASMA
      - 0.0  # STUN
      - 0.8  # MELEE
      - 0.5  # ACID
      - 0.0  # SMOKE
      - 0.2  # IMPACT
      - 1.2  # MELTA
    loftempsSet: [3]
    tags:
      UNIT_IS_REINFORCEMENT_GENERATOR: 33 # 0-100; percentile; value defines the % probability of reinforcements each turn
      REINFORCEMENTS_SPAWN_COOLDOWN: 4 # Defines the number of turns before it spawns again; overrides percentile
      REINFORCEMENTS_PER_TURN: 1 # 0-100; value defines the maximum number of reinforcement spawners this unit will activate each turn.
      REINFORCEMENT_GENERATOR_ID: 1 # the ID number of the reinforcement generator
      INFECTION_RESIST: 100  # infection immune
      INTIMIDATION_RESISTANCE: 100  # intimidate immune
      REINFORCEMENT_LIMIT_CAPACITY: 20
      UNIT_SIZE: 200 # HUGE
      UNIT_TYPE_XENO: 1
      UNIT_TYPE_MECHANICAL: 1
      UNIT_TYPE_NECRON: 1


items:
  - type: STR_NECRON_SCARAB_CORPSE              # NECRON 19968
    power: 120
    damageType: 1
    damageAlter:  # fragmentation blast
      FixRadius: 7
      RandomType: 6
      ToArmorPre: 0.05  # small ablation
      ArmorEffectiveness: 1.1  # concussive + shrapnel everywhere
      ToHealth: 0.4  # much damage dealt in the form of debuffs, was 0.7
      ToTime: 0.2  # painful
      ToStun: 0.4  # painful
      ToMorale: 1.0  # painful
      ToEnergy: 0.4  # painful
      ToWound: 0.4  # shrapnel
      SmokeThreshold: 0
      RandomWound: false
      ToTile: 0.25  # it's shrapnel; deals relatively little damage to the terrain.

  - type: STR_NECRON_DESTROYER_LORD_CORPSE
    size: 2.0
    armor: 100
    recoverCorpse: true
    invWidth: 0
    invHeight: 0
    recover: true
    recoveryPoints: 50
    battleType: 11

  - type: STR_NECRON_DESTROYER_LORD_CORPSE_1 # STR_NECRON_DESTROYER_LORD
    armor: 100
    floorSprite: {mod: 40k, index: 708}
    invWidth: 0
    invHeight: 0
    battleType: 11
    recoveryTransformations:
      STR_NECRON_DESTROYER_LORD_CORPSE: [1]
    recover: true

  - type: STR_NECRON_DESTROYER_LORD_CORPSE_2
    floorSprite: {mod: 40k, index: 709}
    invWidth: 0
    invHeight: 0
    recover: false

  - type: STR_NECRON_DESTROYER_LORD_CORPSE_3
    floorSprite: 3243
    invWidth: 0
    invHeight: 0
    recover: false

  - type: STR_NECRON_DESTROYER_LORD_CORPSE_4
    floorSprite: {mod: 40k, index: 711}
    invWidth: 0
    invHeight: 0
    recover: false

  - type: STR_NECRON_DESTROYER_LORD_SCYTHE_CORPSE_1 # STR_NECRON_DESTROYER_LORD_SCYTHE
    armor: 100
    floorSprite: {mod: 40k, index: 708}
    invWidth: 0
    invHeight: 0
    battleType: 11
    recoveryTransformations:
      STR_NECRON_DESTROYER_LORD_CORPSE: [1]
    recover: true

  - type: STR_NECRON_DESTROYER_LORD_SCYTHE_CORPSE_2
    floorSprite: {mod: 40k, index: 709}
    invWidth: 0
    invHeight: 0
    recover: false

  - type: STR_NECRON_DESTROYER_LORD_SCYTHE_CORPSE_3
    floorSprite: 3244
    invWidth: 0
    invHeight: 0
    recover: false

  - type: STR_NECRON_DESTROYER_LORD_SCYTHE_CORPSE_4
    floorSprite: {mod: 40k, index: 711}
    invWidth: 0
    invHeight: 0
    recover: false